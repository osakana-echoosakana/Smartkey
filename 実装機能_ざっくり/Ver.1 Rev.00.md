# Smartkey 実装機能
メインバージョン：１
マイナーバージョン：１
初稿：2025/05/16
作成者：sakana(osakana-echoosakana)
## 1.概要
### 目的
某電子錠のSDKが破綻してたりしているため、自分で作る。
~~あわよくばポートフォリオにするため。~~

### 対象読者
このプロジェクトに関わっている人間

### 範囲
MustからWantへ。まず最初にMustを作成。
この資料では**ざっくりとした内容を定義する**

### 前提条件
なし。

なお、私が関わるプロジェクトはたいてい炎上するので
スケジュールに気をつけること

## 2.機能定義
## Must
・鍵を開ける機能
・閉める機能
・NFC or Bluetoothで開け閉め
## Want
・ECHONET Lite対応　→ 独自電文 or 規定のもの
・ケース？
・REST APIにて開閉
・IPSec暗号
### 2.1 Must - 鍵を開ける機能
・操作方法：NFC or BLEにて認証後、解錠する

・認証方法：NFC → IDm + PMm？
　　　　　　BLE  →  LE Secure Connectionsを使用してコネクションを作成後、ChaCha20-Poly1305にて暗号化したUUID + ナンスを送信？

・レスポンス：OKならサーボを回す　→　指定した角度にする。
　　　  　　　  NGなら鍵を閉める

### 2.2 Must - 鍵を閉める機能
・操作方法：ユーザー or その他要求によって閉める
・認証方法：なし
・レスポンス：要求されたら閉める。　→　サーボモータを指定した角度へ



## ファイ ル